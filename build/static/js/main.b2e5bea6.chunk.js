(this["webpackJsonpgah-token-site"]=this["webpackJsonpgah-token-site"]||[]).push([[0],{101:function(e,t,a){},116:function(e,t,a){},151:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(18),r=a.n(c),i=(a(116),a(75),a(151),a(59),a(44)),o=a(22),l=a(29),d=a(131),u=a(17),j=a(1),b=["component","auth"],h=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(d.a)(e,b);return Object(j.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return!0===a.isAuthenticated?Object(j.jsx)(t,Object(l.a)({},e)):Object(j.jsx)(o.a,{to:"/login"})}}))})),m=a(71),p=a(128),g="GET_ERRORS",O="USER_LOADING",x="SET_CURRENT_USER",v="USER_ADD",f="USER_UPDATE",y="TOKEN_ADD",N="TOKEN_UPDATE",S="GET_TOTAL_INFO",w="GET_CURRENT_PRICE",C=a(162),k={isAuthenticated:!1,user:{},loading:!1},A={isGetInfo:!1,tokenprice:{}},T={isTokenPrice:!1,tokenprice:{}},D={},F=Object(m.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case f:return{isAuthenticated:!C(t.payload),user:t.payload};case x:return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!C(t.payload),user:t.payload});case O:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case N:return{token:t.payload};case S:return Object(l.a)(Object(l.a)({},e),{},{isGetInfo:!0,token:t.payload});case w:return Object(l.a)(Object(l.a)({},e),{},{tokenprice:t.payload});default:return e}},tokenprice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object(l.a)(Object(l.a)({},e),{},{isTokenPrice:!0,tokenprice:t.payload}):e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type===g?t.payload:e}}),E=[p.a],R=Object(m.d)(F,{},Object(m.c)(m.a.apply(void 0,E))),B=a(88),P=a(9),H=a(51),L=a.n(H),_=a(66),M=a(23),U=a(24),Y=a(27),W=a(26),I=a(13),z=a.n(I),G=function(e){e?z.a.defaults.headers.common.Authorization=e:delete z.a.defaults.headers.common.Authorization},X="https://egaadminserver.herokuapp.com",K=function(e){return{type:x,payload:e}},Z=function(){return function(e){localStorage.removeItem("jwtToken"),G(!1),e(K({})),window.location.href="/"}},V=a.p+"static/media/gahCion.5a233926.png",q=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(){var e;return Object(M.a)(this,a),(e=t.call(this)).handleSubmit=function(){var t=Object(_.a)(L.a.mark((function t(a){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n={phonenumber:e.state.phonenumber,password:e.state.password},e.props.loginUser(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){e.setState(Object(P.a)({},t.target.id,t.target.value))},e.state={username:"",password:"",errors:{}},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(window.location.href="/home")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated?window.location.href="/home":window.location.href="/",e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return Object(j.jsx)("div",{style:{backgroundColor:"#2e2f42"},children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("section",{className:"vh-100 bg-image",children:Object(j.jsx)("div",{className:"container h-100",children:Object(j.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(j.jsx)("div",{className:"col-md-6 mt-5",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(j.jsx)("img",{src:V,style:{width:"40%"}})}),Object(j.jsxs)("div",{className:"auth-form",children:[Object(j.jsx)("h2",{className:"text-center mb-4",children:"Sign In"}),Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"phonenumber",placeholder:"Phone Number",onChange:this.onChange}),Object(j.jsx)("label",{children:"Phone Number"})]}),Object(j.jsxs)("div",{className:"form-floating mb-2",children:[Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.onChange}),Object(j.jsx)("label",{children:"Password"})]}),Object(j.jsx)("div",{className:"d-flex justify-content-between  align-items-center flex-wrap",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("div",{className:"form-check",children:[Object(j.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Remember"}),Object(j.jsx)("label",{className:"form-check-label",children:"Remember me?"})]})})}),Object(j.jsx)("div",{className:"d-flex justify-content-between  align-items-center flex-wrap",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("a",{href:"#page-forgot-password.html",children:"Forgot Password?"})})}),Object(j.jsx)("div",{className:"align-items-center flex-wrap",children:Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"})})})]}),Object(j.jsx)("div",{className:"new-account mt-3 text-center",children:Object(j.jsxs)("p",{children:["Don't have an account? ",Object(j.jsx)("a",{className:"",href:"/signup",children:"Click here to sign up"})]})})]})]})})})})})})})})}}]),a}(n.Component),J=Object(u.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){z.a.post("".concat(X,"/record/login"),e).then((function(e){console.log("response.data is ",e.data);var a=e.data.token;localStorage.setItem("jwtToken",a);var n=Object(B.a)(a);G(a),t(K(n))})).catch((function(e){return t({type:g,payload:e.response.data})}))}}})(q),Q=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(){var e;return Object(M.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(P.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(_.a)(L.a.mark((function t(a){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n={name:e.state.name,phonenumber:e.state.phonenumber,password:e.state.password,password2:e.state.password2},e.props.registerUser(n,e.props.history);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",phonenumber:"",password:"",password2:"",errors:{}},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(window.location.href="/home")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return Object(j.jsx)("div",{style:{backgroundColor:"#2e2f42"},children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("section",{className:"vh-100 bg-image",children:Object(j.jsx)("div",{className:"container h-100",children:Object(j.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(j.jsx)("div",{className:"col-md-6 mt-5",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(j.jsx)("img",{src:V,style:{width:"40%"}})}),Object(j.jsxs)("div",{className:"auth-form",children:[Object(j.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Full Name",onChange:this.onChange}),Object(j.jsx)("label",{children:"Full Name"})]}),Object(j.jsxs)("div",{className:"form-floating mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"phonenumber",placeholder:"Phone Number",onChange:this.onChange}),Object(j.jsx)("label",{children:"Phone Number"})]}),Object(j.jsxs)("div",{className:"form-floating mb-2",children:[Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.onChange}),Object(j.jsx)("label",{children:"Password"})]}),Object(j.jsxs)("div",{className:"form-floating mb-2",children:[Object(j.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Confirm Password",onChange:this.onChange}),Object(j.jsx)("label",{children:"Confirm Password"})]}),Object(j.jsx)("div",{className:"align-items-center flex-wrap",children:Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})})})]}),Object(j.jsx)("div",{className:"new-account mt-3 text-center",children:Object(j.jsxs)("p",{children:["If you already have your account, ",Object(j.jsx)("a",{className:"",href:"/signin",children:"Click here to sign in"})]})})]})]})})})})})})})})}}]),a}(n.Component),$=Object(u.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(t){z.a.post("".concat(X,"/record/register"),e).then((function(e){return window.location.href="/signin"})).catch((function(e){return t({type:g,payload:e.response.data})}))}}})(Q),ee=a(7),te=a(253),ae=a(266),ne=a(269),se=a(272),ce=a(267),re=a(265),ie=a(274),oe=a(273),le=a(257),de=a(268),ue=a(264),je=a(196),be=(a(101),function(){return function(e){z.a.get("".concat(X,"/gettotalbalance")).then((function(t){return e({type:S,payload:t})})).catch((function(t){return e({type:g,payload:t.response.data})}))}}),he=function(){return function(e){z.a.get("".concat(X,"/egaprice")).then((function(t){return e({type:w,payload:t})})).catch((function(t){return e({type:g,payload:t.response.data})}))}},me="https://egaadminserver.herokuapp.com",pe=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(){var e;return Object(M.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props.auth.user,t=this.props.tokenprice.tokenprice;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"position-relative",children:Object(j.jsx)("nav",{className:"nav navbar navbar-expand-lg navbar-light iq-navbar border-bottom",style:{minHeight:65,padding:0},children:Object(j.jsxs)("div",{className:"container-fluid navbar-inner",style:{padding:0},children:[Object(j.jsx)("div",{className:"sidebar-toggle","data-toggle":"sidebar","data-active":"true",children:Object(j.jsx)("i",{className:"icon",children:Object(j.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"})})})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",style:{float:"right"},children:Object(j.jsxs)("span",{className:"navbar-toggler-icon",children:[Object(j.jsx)("span",{className:"navbar-toggler-bar bar1 mt-2"}),Object(j.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(j.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(j.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",style:{background:"#303032"},children:[Object(j.jsxs)("ul",{className:"navbar-nav ms-auto navbar-list mb-2 mb-lg-0 align-items-center",children:[Object(j.jsxs)("li",{className:"nav-item ",style:{fontSize:20,color:"#1eff12",fontWeight:700},children:["1 GAH = ",t.data?t.data.egaPrice:0," USD"]}),Object(j.jsxs)("li",{className:"nav-item",style:{fontSize:20,color:"#1eff12",fontWeight:700},children:["1 EFRANC = ",t.data?t.data.mosPrice:0," EUR"]})]}),Object(j.jsxs)("ul",{className:"navbar-nav ms-auto navbar-list mb-2 mb-lg-0 align-items-center",children:[Object(j.jsx)("li",{className:"nav-item ",style:{padding:0},children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/home",children:"Home"})}),Object(j.jsx)("li",{className:"nav-item ",style:{padding:0},children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/tokenbuy",children:"Token Buying"})}),Object(j.jsx)("li",{className:"nav-item ",style:{padding:0},children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/tokensell",children:"Token Sale"})}),Object(j.jsx)("li",{className:"nav-item ",style:{padding:0},children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/tokenswap",children:"Token Swap"})}),Object(j.jsx)("li",{className:"nav-item ",style:{padding:0},children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/tokensend",children:"Token Send"})}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link py-0 d-flex align-items-center",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("img",{src:"".concat(me,"/").concat(e.avatar),alt:"User-Profile",className:"img-fluid avatar avatar-50 avatar-rounded"}),Object(j.jsxs)("div",{className:"caption ms-3 ",children:[Object(j.jsx)("h6",{className:"mb-0 caption-title",children:e.name}),Object(j.jsx)("p",{className:"mb-0 caption-sub-title",style:{fontSize:12},children:"gah-"+e.id})]})]}),Object(j.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{className:"border-0",children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/profile",children:"My Profile"})}),Object(j.jsx)("li",{className:"border-0",children:Object(j.jsx)(i.b,{className:"dropdown-item",to:"/wallet",children:"My Wallet"})}),Object(j.jsx)("li",{className:"border-0",children:Object(j.jsx)("hr",{className:"m-0 dropdown-divider"})}),Object(j.jsx)("li",{className:"border-0",children:Object(j.jsx)("a",{className:"dropdown-item",href:"#",onClick:this.onLogoutClick,children:"Logout"})})]})]})]})]})]})})})})}}]),a}(n.Component),ge=Object(u.b)((function(e){return{auth:e.auth,token:e.token,tokenprice:e.tokenprice}}),{logoutUser:Z,getTotalInfo:be,getCurrentPrice:he})(pe),Oe=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){this.props.auth.user;return Object(j.jsxs)("div",{className:"container",style:{minWidth:"100%",backgroundColor:"#262626",zIndex:910,position:"fixed",paddingLeft:0,paddingRight:0},children:[Object(j.jsx)("header",{style:{minWidth:"100%",minHeight:120,position:"relative"},children:Object(j.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"#",children:[Object(j.jsx)("img",{alt:"Coin Panel Logo",lazy:"true",src:V,style:{width:"18%"}}),"GAH-TOKEN Current Price"]})}),Object(j.jsx)(ge,{})]})}}]),a}(n.Component),xe=Object(u.b)((function(e){return{auth:e.auth}}))(Oe),ve=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(e){return Object(M.a)(this,a),t.call(this,e)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props.token.token;return Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-3 col-lg-3 col-sm-12 col-xs-12",children:Object(j.jsx)("aside",{className:"sidebar sidebar-default navs-rounded ",style:{maxHeight:520,overflow:"scroll"},children:Object(j.jsxs)("ul",{className:"navbar-nav ms-auto navbar-list mb-2 mb-lg-0 align-items-center",children:[Object(j.jsx)("li",{className:"nav-item ",children:"\xa0"}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"GAH Total Supply:"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.gahTotalSupply:0})]}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"Distributed GAH:"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.gahDistributes:0})]}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"GAH Balance:"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.gahBalance:0})]}),Object(j.jsx)("li",{className:"nav-item ",children:"\xa0"}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"E-FRANC Total Supply:"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.mosTotalSupply:0})]}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"Distributed E-FRANC :"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.mosDistributes:0})]}),Object(j.jsxs)("li",{className:"nav-item ",style:{textAlign:"center"},children:[Object(j.jsx)("p",{children:"E-FRAC Balance:"}),Object(j.jsx)("p",{style:{color:"#1eff12",fontSize:22},children:e?e.data.mosBalance:0})]})]})})})})}}]),a}(n.Component),fe=Object(u.b)((function(e){return{auth:e.auth,records:e.records,token:e.token,tokenprice:e.tokenprice}}))(ve),ye=a(129),Ne=a.n(ye),Se=null,we=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).createOrder=function(e,t){return t.order.create({purchase_units:[{description:"EGA token ("+n.props.amount+"EGA)",amount:{currency_code:"USD",value:Number(n.props.price).toFixed(2)}}]})},n.onApprove=function(e,t){t.order.capture().then((function(t){var a={payerID:e.payerID,orderID:e.orderID};console.log("Payment Approved: ",a),n.setState({showButtons:!1,paid:!0})}))},n.state={showButtons:!1,loading:!0,paid:!1,sendingComplete:n.props.sendingComplete},window.React=s.a,window.ReactDOM=r.a,n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&(Se=window.paypal.Buttons.driver("react",{React:s.a,ReactDOM:r.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(Se=window.paypal.Buttons.driver("react",{React:s.a,ReactDOM:r.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showButtons,n=(t.loading,t.paid);return n&&(console.log("your payment is successful, congratelation!!!"),this.state.sendingComplete||this.props.sendToken(this.props.amount)),Object(j.jsx)("div",{style:{width:"60%",backgroundColor:"#0a1c24",color:"white",borderRadius:5,minHeight:450},children:Object(j.jsxs)("div",{style:{width:"100%",textAlign:"center",margin:"auto",paddingTop:40,minHeight:450,borderRadius:5,maxHeight:600,overflowY:"scroll"},children:[a&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["E-FRANC token amounts : ",this.props.amount," EFRANC"]}),Object(j.jsxs)("h2",{children:["Price :  ",Number(this.props.price).toFixed(2)," USD"]})]}),Object(j.jsx)(Se,{createOrder:function(t,a){return e.createOrder(t,a)},onApprove:function(t,a){return e.onApprove(t,a)}})]}),n&&Object(j.jsx)("div",{className:"card",style:{margin:"auto",height:300,width:"55%"},children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h1",{children:"Payment Successful!"}),Object(j.jsx)("h2",{children:"Congratelations!, Please check your wallet"})]})})]})})}}]),a}(s.a.Component),Ce=Ne()("https://www.paypal.com/sdk/js?client-id=".concat("ARBEG9wQuQF0ZsKC9OLBokioEkokiNNv7mjAmv4uqYnI9Bo_5adWcVBdC9m-o0mENSYsuk-45OnPQWTH"))(we),ke=a(258),Ae=a(270),Te=a(10),De=Object(te.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));Object(Te.a)({root:{color:"#1effbc","&$checked":{color:"#1effbc"}},checked:{}})((function(e){return Object(j.jsx)(Ae.a,Object(l.a)({color:"default"},e))}));function Fe(e){var t=Object(u.c)((function(e){return e.auth})).user,a=Object(n.useState)("1LBRNRqNjaHB8HkrwnjvMXcVNzhitPeUCJ"),s=Object(ee.a)(a,2),c=s[0],r=(s[1],Object(n.useState)("")),i=Object(ee.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(""),b=Object(ee.a)(d,2),h=b[0],m=b[1],p=De(),g=function(t){t.preventDefault();var a={recipientAddress:c,senderAddress:o,senderPrivateKey:h,amountToSend:e.price};z.a.post("".concat(me,"/record/sendbitcoin"),a).then((function(e){O()}))},O=function(){var a=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+"Z"}(),n={personName:t.name,address:c,walletAddress:"gah-"+t.id,tranDate:a,tokenName:"e-franc",tranType:"BUY",amount:e.amount,price:e.price+" BTC"};z.a.post("".concat(me,"/record/tranadd"),n).then((function(e){alert("Your payout successfull !"),window.location.href="/tokenbuy"})).catch((function(e){console.log(e),alert("Something went wrong with your payout.")}))};return Object(j.jsx)("div",{style:{width:"60%",backgroundColor:"#0a1c24",color:"white",borderRadius:5,minHeight:350},children:Object(j.jsxs)("div",{style:{width:"100%",textAlign:"center",margin:"auto",paddingTop:40,minHeight:350,borderRadius:5,maxHeight:600,overflowY:"scroll"},children:[Object(j.jsxs)("div",{style:{paddingBottom:25},children:[Object(j.jsxs)("h2",{children:["E-FRANC token amounts : ",e.amount," EFRANC"]}),Object(j.jsxs)("h2",{children:["Price :  ",e.price," BTC"]})]}),Object(j.jsxs)("form",{onSubmit:g,style:{width:"100%"},children:[Object(j.jsx)("div",{style:{padding:20},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)("span",{style:{color:"white",fontSize:"18px",fontWeight:700,justifyContent:"center",float:"right"},children:"Wallet Address : "})}),Object(j.jsx)("div",{className:"col-md-7",children:Object(j.jsx)(ae.a,{placeholder:"Please input your BTC wallet address",variant:"outlined",onChange:function(e){l(e.target.value)},className:"form-control"})})]})}),Object(j.jsx)("div",{style:{padding:20},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)("span",{style:{color:"white",fontSize:"18px",fontWeight:700,justifyContent:"center",float:"right"},children:"Private Key : "})}),Object(j.jsx)("div",{className:"col-md-7",children:Object(j.jsx)(ae.a,{placeholder:"Please input the private key.",variant:"outlined",onChange:function(e){m(e.target.value)},className:"form-control"})})]})}),Object(j.jsx)("div",{style:{paddingBottom:30},children:Object(j.jsx)(ke.a,{variant:"contained",color:"primary",className:p.button,type:"submit",onClick:g,children:"PAY (".concat(e.price," BTC)")})})]})]})})}a(185);var Ee=Object(te.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));function Re(){var e=Object(u.c)((function(e){return e.auth})).user;Object(u.c)((function(e){return e.tokenprice})).tokenprice;console.log("current users info is ",e);var t=Ee(),a=s.a.useState("paypal"),c=Object(ee.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(0),l=Object(ee.a)(o,2),d=l[0],b=l[1],h=Object(n.useState)(0),m=Object(ee.a)(h,2),p=m[0],g=m[1],O=s.a.useState(!1),x=Object(ee.a)(O,2),v=x[0],f=x[1],y=Object(n.useState)(!1),N=Object(ee.a)(y,2),S=(N[0],N[1],Object(n.useState)(!1)),w=Object(ee.a)(S,2),C=w[0],k=w[1],A=Object(n.useState)("mos"),T=Object(ee.a)(A,2),D=T[0],F=T[1],E=Object(n.useState)(0),R=Object(ee.a)(E,2),B=R[0],P=R[1],H=Object(n.useState)(0),M=Object(ee.a)(H,2),U=M[0],Y=M[1],W=Object(n.useState)(0),I=Object(ee.a)(W,2),G=I[0],X=I[1],K=Object(n.useState)(0),Z=Object(ee.a)(K,2),V=Z[0],q=Z[1],J=Object(n.useState)(0),Q=Object(ee.a)(J,2),$=Q[0],te=Q[1],be=Object(n.useState)(0),he=Object(ee.a)(be,2),pe=(he[0],he[1]),ge=Object(n.useState)(),Oe=Object(ee.a)(ge,2),ve=(Oe[0],Oe[1],Object(n.useState)(0)),ye=Object(ee.a)(ve,2),Ne=ye[0],Se=ye[1],we=Object(n.useState)(0),ke=Object(ee.a)(we,2),Ae=(ke[0],ke[1]),Te=Object(n.useState)(0),De=Object(ee.a)(Te,2),Re=(De[0],De[1]),Be=Object(n.useState)("disabled"),Pe=Object(ee.a)(Be,2),He=Pe[0],Le=Pe[1],_e=Object(n.useState)("none"),Me=Object(ee.a)(_e,2),Ue=Me[0],Ye=Me[1],We=function(e){var t={personName:"",phoneNumber:"",walletAddress:"",tranDate:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+"Z"}(),tokenName:D,tranType:"BUY",amount:e};z.a.post("".concat(me,"/record/tranadd"),t).then((function(e){window.location.href="/btc-success"})).catch((function(e){alert("Token has some problems. So, you failed to save your token.")}))},Ie=function(){var e=Object(_.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){z.a.get("".concat(me,"/currentpairprice/1")).then((function(e){console.log("the result of getData method is ",e.data),P(Number(e.data[0].ega_usd)),Y(Number(e.data[0].ega_mos)),X(Number(e.data[0].ega_btc)),z.a.get("".concat(me,"/limitamount")).then((function(t){q(Number(t.data[0].buyMIN));var a=(Number(t.data[0].buyMIN)*Number(e.data[0].ega_usd)).toFixed(6),n=(Number(t.data[0].buyMIN)*Number(e.data[0].ega_btc)).toFixed(6);te(a),pe(n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsxs)("div",{className:"row",style:{minHeight:680,minWidth:"100%",paddingLeft:"17%",paddingTop:245},children:[Object(j.jsx)("form",{style:{width:"75%",margin:"auto",marginTop:15},onSubmit:function(e){e.preventDefault(),f(!0)},children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header-tb",children:"Token Buying"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-lg-5",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 GAH = ",B.toFixed(6)," USD "]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 EFRANC = ",(B/U).toFixed(6)," USD "]})]}),Object(j.jsxs)("div",{className:"col-lg-7",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* E-FRANC minimum : ",V," EFRANC"]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* USD minimum : ",$," USD"]})]})]}),Object(j.jsxs)("div",{className:"textfield",children:[Object(j.jsx)("p",{children:"Token Amount : "}),Object(j.jsx)(oe.a,{sx:{m:1,minWidth:250},children:Object(j.jsxs)(re.a,{value:D,onChange:function(e){F(e.target.value)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},disabled:!0,children:[Object(j.jsx)(ce.a,{value:"",children:Object(j.jsx)("em",{children:"None"})}),Object(j.jsx)(ce.a,{value:"gah",children:"GAH TOKEN"}),Object(j.jsx)(ce.a,{value:"mos",children:"E-FRANC"})]})}),Object(j.jsx)(ae.a,{id:"standard-basic",type:"number",variant:"outlined",value:Ne,onChange:function(e){if(Se(e.target.value),"gah"==D){var t=Number(e.target.value)*B;Ae(t.toFixed(6)),b(t.toFixed(6))}if("mos"==D){t=Number(e.target.value)*(B/U);Ae(t.toFixed(6)),b(t.toFixed(6));var a=Number(e.target.value)*(G/U);Re(a.toFixed(6)),g(a.toFixed(6)),e.target.value<V?(Ye(""),Le("disabled")):(Ye("none"),Le(""))}},min:50}),Object(j.jsx)("p",{children:" EFRANC"})]}),Object(j.jsx)("p",{style:{color:"#ff0000",display:Ue},children:"* Invalid amount, because it's less than minimum amounts"}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(j.jsxs)("div",{className:"textfield",children:[Object(j.jsx)("p",{children:"Price : "}),Object(j.jsx)(ae.a,{id:"filled-basic",type:"number",variant:"outlined",value:d,onChange:function(e){if(Ae(e.target.value),b(e.target.value),"gah"==D){var t=Number(e.target.value)/B;Se(t)}if("mos"==D){t=Number(e.target.value)/(B/U);var a=Number(e.target.value)/(G/U);Se(t),g(a),Re(a),t<V?(Ye(""),Le("disabled")):(Ye("none"),Le(""))}}}),Object(j.jsx)("p",{children:" USD"})]})}),Object(j.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(j.jsxs)("div",{className:"textfield",children:[Object(j.jsx)("p",{children:"Price : "}),Object(j.jsx)(ae.a,{id:"filled-basic",type:"number",variant:"outlined",value:p,onChange:function(e){if(Re(e.target.value),g(e.target.value),"gah"==D){var t=Number(e.target.value)/B;Se(t)}if("mos"==D){t=Number(e.target.value)*(U/G);var a=Number(e.target.value)*(G/B);Se(t),g(a),Re(a),t<V?(Ye(""),Le("disabled")):(Ye("none"),Le(""))}}}),Object(j.jsx)("p",{children:" BTC"})]})})]}),Object(j.jsxs)(oe.a,{component:"fieldset",children:[Object(j.jsx)(le.a,{component:"legend",children:"Select Payment!"}),Object(j.jsxs)(se.a,{"aria-label":"gender",name:"gender1",value:r,onChange:function(e){i(e.target.value)},children:[Object(j.jsx)(ie.a,{value:"paypal",control:Object(j.jsx)(ne.a,{}),label:"Paypal"}),Object(j.jsx)(ie.a,{value:"btc",control:Object(j.jsx)(ne.a,{}),label:"BitCoin"})]})]})]}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:He,children:"Buy Now"})})]})}),Object(j.jsx)(de.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:v,onClose:function(){f(!1)},closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500},children:Object(j.jsx)(je.a,{in:v,children:"paypal"===r?Object(j.jsx)(Ce,{sendToken:Ie,amount:Ne,price:d,sendingComplete:C,setSendingComplete:k}):Object(j.jsx)(Fe,{sendToken:Ie,amount:Ne,price:p,sendingComplete:C,setSendingComplete:k})})})]})]})}var Be=a(43),Pe=(a(186),function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).getCurrentDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+((e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()))+"Z"},n.onChangeMOS=function(e){n.setState({mosAmount:e.target.value});var t=n.state.mos_usd,a=n.state.mos_eur,s=n.state.mos_btc,c=Number(e.target.value)*t,r=Number(e.target.value)*a,i=Number(e.target.value)*s;n.setState({usdAmount:c.toFixed(6)}),n.setState({eurAmount:r.toFixed(6)}),n.setState({btcAmount:i.toFixed(6)}),e.target.value>n.state.mosBalance?(n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:"none"}),e.target.value>Number(n.state.limitega)&&n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:""})):e.target.value<Number(n.state.mins)?n.setState({disbaledBTN:"disabled",displayerr1:"none",displayerr2:""}):n.setState({disbaledBTN:"",displayerr1:"none",displayerr2:"none"})},n.onChangeBTC=function(e){n.setState({btcAmount:e.target.value});var t=n.state.mos_usd,a=n.state.mos_eur,s=n.state.mos_btc,c=Number(e.target.value)/s,r=c*a,i=c*t;n.setState({mosAmount:c.toFixed(6)}),n.setState({eurAmount:r.toFixed(6)}),n.setState({usdAmount:i.toFixed(6)}),c>n.state.mosBalance?(n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:"none"}),c>Number(n.state.limitega)&&n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:""})):c<Number(n.state.mins)?n.setState({disbaledBTN:"disabled",displayerr1:"none",displayerr2:""}):n.setState({disbaledBTN:"",displayerr1:"none",displayerr2:"none"})},n.onChangeUSD=function(e){n.setState({usdAmount:e.target.value});var t=n.state.mos_usd,a=n.state.mos_eur,s=n.state.mos_btc,c=Number(e.target.value)/t,r=c*a,i=c*s;n.setState({mosAmount:c.toFixed(6)}),n.setState({eurAmount:r.toFixed(6)}),n.setState({btcAmount:i.toFixed(6)}),c>n.state.mosBalance?(n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:"none"}),c>Number(n.state.limitega)&&n.setState({disbaledBTN:"disabled",displayerr1:"none",displayerr2:""})):c<Number(n.state.mins)?n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:""}):n.setState({disbaledBTN:"",displayerr1:"none",displayerr2:"none"})},n.onChangeEUR=function(e){n.setState({eurAmount:e.target.value});var t=n.state.mos_usd,a=n.state.mos_eur,s=n.state.mos_btc,c=Number(e.target.value)/a,r=c*t,i=c*s;n.setState({mosAmount:c.toFixed(6)}),n.setState({usdAmount:r.toFixed(6)}),n.setState({btcAmount:i.toFixed(6)}),c>n.state.mosBalance?(n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:"none"}),c>Number(n.state.limitega)&&n.setState({disbaledBTN:"disabled",displayerr1:"",displayerr2:""})):c<Number(n.state.mins)?n.setState({disbaledBTN:"disabled",displayerr1:"none",displayerr2:""}):n.setState({disbaledBTN:"",displayerr1:"none",displayerr2:"none"})},n.handleRadio=function(e){n.setState({radioValue:e.target.value})},n.onChangeAddress=function(e){n.setState({address:e.target.value})},n.getBalanceData=function(){z.a.get("".concat(me,"/getwalletbalance/gah-").concat(n.user.user.id)).then((function(e){n.setState({mosBalance:Number(e.data.mos)})})).catch((function(e){console.log(e)}))},n.state={ega_usd:"",ega_btc:0,salelimit:0,limitega:0,mins:0,mosAmount:0,usdAmount:0,eurAmount:0,btcAmount:0,mos_eur:0,mos_usd:0,mos_btc:0,opening:!1,radioValue:"paypal",address:"",mosBalance:0,disbaledBTN:"",displayerr1:"none",displayerr2:"none",errors:{}},n.getData=n.getData.bind(Object(Be.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Be.a)(n)),n.handleModalSubmit=n.handleModalSubmit.bind(Object(Be.a)(n)),n.handleOpen=n.handleOpen.bind(Object(Be.a)(n)),n.handleClose=n.handleClose.bind(Object(Be.a)(n)),n.savingToDatabase=n.savingToDatabase.bind(Object(Be.a)(n)),n.user=n.props.auth,n}return Object(U.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),Number(this.state.mosAmount)>Number(this.state.limitega)?alert("You can sell the your token for maximum ".concat(this.state.salelimit," USD (").concat(this.state.limitega," E-FRANC)")):this.handleOpen()}},{key:"handleModalSubmit",value:function(e){e.preventDefault(),this.savingToDatabase()}},{key:"handleOpen",value:function(){this.setState({opening:!0})}},{key:"handleClose",value:function(){this.setState({opening:!1})}},{key:"componentDidMount",value:function(){this.getData(),this.getBalanceData()}},{key:"componentWillReceiveProps",value:function(e){this.getData(),this.getLimitedAmount(),e.errors&&this.setState({errors:e.errors})}},{key:"savingToDatabase",value:function(){var e=this,t=this.getCurrentDate(),a=this.props.auth.user;console.log("subscriber is ",a);var n={subscriber:a.name,walletAddress:"gah-"+a.id,subscribeDate:t,tokenName:"e-franc",amount:this.state.mosAmount,paymentKind:this.state.radioValue,usdPrice:this.state.usdAmount,eurPrice:this.state.eurAmount,btcPrice:this.state.btcAmount,address:this.state.address,paymentState:"pending"};z.a.post("".concat(me,"/record/salesubscribe"),n).then((function(t){alert("Your subscribe successfull ! Your subscribe will be approve in 24 hours."),e.handleClose()})).catch((function(e){alert("Token has some problems. So, you failed to save your token.")}))}},{key:"getData",value:function(){var e=this;z.a.get("".concat(X,"/currentpairprice/1")).then((function(t){console.log("the result of getData method is ",t.data),e.setState({ega_usd:Number(t.data[0].ega_usd)}),e.setState({mos_usd:Number(t.data[0].ega_usd)/Number(t.data[0].ega_mos)}),e.setState({mos_btc:Number(t.data[0].ega_btc)/Number(t.data[0].ega_mos)}),e.setState({ega_btc:t.data[0].ega_btc}),z.a.get("".concat(X,"/limitamount")).then((function(a){e.setState({salelimit:Number(a.data[0].saleMAX)}),e.setState({mins:Number(a.data[0].buyMIN)});var n=(Number(a.data[0].saleMAX)/(Number(t.data[0].ega_usd)/Number(t.data[0].ega_mos))).toFixed(6);e.setState({limitega:n}),z.a.get("".concat(X,"/tokenprice")).then((function(t){e.setState({mos_eur:Number(t.data[0].mos)})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.auth.user;return Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsx)("div",{className:"container-fluid content-inner pb-0",style:{minHeight:680,minWidth:"100%",margin:"auto",paddingLeft:"17%",paddingTop:245},children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-sm-10",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header-tb",style:{paddingRight:70},children:Object(j.jsx)("h4",{className:"card-title text-white",children:"Token Sale"})}),Object(j.jsxs)("div",{className:"row",style:{paddingLeft:25,paddingTop:25},children:[Object(j.jsxs)("div",{className:"col-lg-5",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 E-FRANC = ",this.state.mos_usd.toFixed(6)," USD "]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 E-FRANC = ",this.state.mos_eur," EURO "]})]}),Object(j.jsxs)("div",{className:"col-lg-7",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["E-FRANC balance : ",this.state.mosBalance," EFRANC"]}),Object(j.jsxs)("p",{style:{color:"green"},children:["1 EFRANC : ",this.state.ega_btc," BTC"]})]})]}),Object(j.jsx)("div",{className:"d-flex mt-4 ms-4 me-4 justify-content-between",style:{paddingBottom:20},children:Object(j.jsx)("form",{onSubmit:this.handleSubmit,style:{width:"100%",margin:"auto"},children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-body",children:[Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"number",className:"form-control",id:"mosAmount",placeholder:"0",onChange:this.onChangeMOS,value:this.state.mosAmount}),Object(j.jsx)("label",{children:"E-FRANC"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{color:"#ff0000",display:this.state.displayerr1},children:"* Invalid amount because it's more than the balance in your wallet. "})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{color:"#ff0000",display:this.state.displayerr2},children:"* Invalid amount because it's more than the maximum amounts or less than minimum amounts. "})}),Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"number",className:"form-control",id:"btcAmount",placeholder:"0",onChange:this.onChangeBTC,value:this.state.btcAmount}),Object(j.jsx)("label",{children:"BTC"})]}),Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"number",className:"form-control",id:"usdAmount",placeholder:"0",onChange:this.onChangeUSD,value:this.state.usdAmount}),Object(j.jsx)("label",{children:"USD"})]}),Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"number",className:"form-control",id:"eurAmount",placeholder:"0",onChange:this.onChangeEUR,value:this.state.eurAmount}),Object(j.jsx)("label",{children:"EURO"})]}),Object(j.jsxs)("p",{style:{color:"grey"},children:["* You can sell the your token for maximum ",this.state.salelimit," USD (",this.state.limitega," EFRANC)"]}),Object(j.jsxs)("p",{style:{color:"grey"},children:["* If you would like to sell EFRANC token in BTC, You should the token for minimum ",this.state.mins," EFRANC"]})]}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:this.state.disbaledBTN,children:"Sale Subscribe"})})]})})})]})})})}),Object(j.jsx)(de.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:this.state.opening,onClose:this.handleClose,closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(je.a,{in:this.state.opening,children:Object(j.jsx)("div",{style:{width:"55%",backgroundColor:"#262626",color:"white",borderRadius:5,minHeight:450},children:Object(j.jsx)("form",{style:{width:"100%",margin:"auto"},onSubmit:this.handleModalSubmit,children:Object(j.jsxs)("div",{className:"modal-content",style:{width:"100%",textAlign:"center",margin:"auto",padding:40,minHeight:450,borderRadius:5,maxHeight:600,overflowY:"scroll"},children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:[Object(j.jsx)("span",{children:"E-FRANC : "}),Object(j.jsx)("span",{style:{color:"#1eff12"},children:this.state.mosAmount})," ",Object(j.jsx)("span",{children:"EFRANC"})]}),Object(j.jsxs)("h2",{children:[Object(j.jsx)("span",{children:"Price : "}),Object(j.jsx)("span",{style:{color:"#1eff12"},children:this.state.eurAmount})," ",Object(j.jsx)("span",{children:"EURO"})]}),Object(j.jsxs)("h2",{children:[Object(j.jsx)("span",{children:"E-FRANC : "}),Object(j.jsx)("span",{style:{color:"#1eff12"},children:this.state.usdAmount})," ",Object(j.jsx)("span",{children:"USD"})]})]}),Object(j.jsxs)("div",{className:"modal-body",children:[Object(j.jsxs)(oe.a,{component:"fieldset",children:[Object(j.jsx)(le.a,{component:"legend",style:{color:"green"},children:"Select Payment!"}),Object(j.jsxs)(se.a,{"aria-label":"gender",name:"gender1",value:this.state.radioValue,onChange:this.handleRadio,children:[Object(j.jsx)(ie.a,{value:"paypal",control:Object(j.jsx)(ne.a,{}),label:"Paypal"}),Object(j.jsx)(ie.a,{value:"btc",control:Object(j.jsx)(ne.a,{}),label:"BitCoin"})]})]}),Object(j.jsxs)("p",{children:["Your Name : ",Object(j.jsx)("span",{children:e.name})]}),Object(j.jsxs)("p",{children:["Your Wallet Address : ",Object(j.jsx)("span",{children:"gah-"+e.id})]}),"paypal"==this.state.radioValue?Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"0",onChange:this.onChangeAddress}),Object(j.jsx)("label",{children:"Paypal Accont (E-mail Address)"})]}):Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"address",placeholder:"0",onChange:this.onChangeAddress}),Object(j.jsx)("label",{children:"BitCoin Wallet Address"})]})]}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})})})})]})}}]),a}(n.Component)),He=Object(u.b)((function(e){return{auth:e.auth,records:e.records}}))(Pe),Le=(a(187),Object(te.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})));function _e(){var e=Object(u.c)((function(e){return e.auth})).user;console.log("current users info is ",e);Le();var t=Object(n.useState)(0),a=Object(ee.a)(t,2),s=(a[0],a[1]),c=Object(n.useState)(0),r=Object(ee.a)(c,2),i=(r[0],r[1]),o=Object(n.useState)(0),l=Object(ee.a)(o,2),d=l[0],b=l[1],h=Object(n.useState)(""),m=Object(ee.a)(h,2),p=m[0],g=m[1],O=Object(n.useState)(""),x=Object(ee.a)(O,2),v=x[0],f=x[1],y=Object(n.useState)(""),N=Object(ee.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(""),k=Object(ee.a)(C,2),A=k[0],T=k[1],D=Object(n.useState)(0),F=Object(ee.a)(D,2),E=F[0],R=F[1],B=Object(n.useState)(0),P=Object(ee.a)(B,2),H=P[0],L=P[1],_=Object(n.useState)(""),M=Object(ee.a)(_,2),U=M[0],Y=M[1],W=Object(n.useState)("none"),I=Object(ee.a)(W,2),G=I[0],X=I[1],K=function(){var t=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+"Z"}(),a={name:e.name,walletAddress:"gah-"+e.id,fromToken:p,toToken:v,fromAmount:S,toAmount:A,swapDate:t};z.a.post("".concat(me,"/record/swapping"),a).then((function(e){alert("Your swapping is successful !")})).catch((function(e){alert("Token has some problems. So, you failed to save your token.")}))};return Object(n.useEffect)((function(){z.a.get("".concat(me,"/currentpairprice/1")).then((function(e){console.log("the result of getData method is ",e.data),s(Number(e.data[0].ega_usd)),b(Number(e.data[0].ega_mos)),i(Number(e.data[0].ega_eur))})).catch((function(e){console.log(e)})),z.a.get("".concat(me,"/getwalletbalance/gah-").concat(e.id)).then((function(e){R(Number(e.data.gah)),L(Number(e.data.mos))})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsx)("div",{className:"row",style:{minHeight:680,minWidth:"100%",paddingLeft:"17%",paddingTop:245},children:Object(j.jsx)("form",{style:{width:"60%",margin:"auto",marginTop:15},onSubmit:function(e){e.preventDefault(),K()},children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header-tb",children:"Token Swaping"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-lg-5",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 GAH = ",d.toFixed(6)," EFRANC "]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* 1 FRANC = ",(1/d).toFixed(6)," GAH "]})]}),Object(j.jsxs)("div",{className:"col-lg-7",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* GAH balance : ",E," GAH"]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* E-FRANC balance : ",H," EFRANC"]})]})]}),Object(j.jsxs)("div",{className:"textfield",children:[Object(j.jsx)("p",{children:"From Token : "}),Object(j.jsx)(oe.a,{sx:{m:1,minWidth:250},children:Object(j.jsxs)(re.a,{value:p,onChange:function(e){if(g(e.target.value),"gah"==e.target.value){var t=S;f("efranc"),T((t*d).toFixed(5)),t>E?(Y("disabled"),X("")):(Y(""),X("none"))}if("efranc"==e.target.value){f("gah");var a=S;T((a/d).toFixed(5)),a>H?(Y("disabled"),X("")):(Y(""),X("none"))}},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(j.jsx)(ce.a,{value:"",children:Object(j.jsx)("em",{children:"None"})}),Object(j.jsx)(ce.a,{value:"gah",children:"GAH TOKEN"}),Object(j.jsx)(ce.a,{value:"efranc",children:"E-FRANC"})]})}),Object(j.jsx)(ae.a,{id:"standard-basic",type:"number",variant:"outlined",value:S,onChange:function(e){w(e.target.value),"gah"==p&&(T((e.target.value*d).toFixed(5)),e.target.value>E?(Y("disabled"),X("")):(Y(""),X("none"))),"efranc"==p&&(T((e.target.value/d).toFixed(5)),e.target.value>H?(Y("disabled"),X("")):(Y(""),X("none")))},min:50}),Object(j.jsxs)("p",{children:[" ",p.toUpperCase()]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{color:"#ff0000",display:G},children:"* Invalid amount because it's more than the balance in your wallet. "})}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"textfield",children:[Object(j.jsx)("p",{children:"To token : "}),Object(j.jsx)(oe.a,{sx:{m:1,minWidth:250},children:Object(j.jsxs)(re.a,{value:v,displayEmpty:!0,inputProps:{"aria-label":"Without label"},disabled:!0,children:[Object(j.jsx)(ce.a,{value:"",children:Object(j.jsx)("em",{children:"None"})}),Object(j.jsx)(ce.a,{value:"gah",children:"GAH TOKEN"}),Object(j.jsx)(ce.a,{value:"efranc",children:"E-FRANC"})]})}),Object(j.jsx)(ae.a,{id:"standard-basic",type:"number",variant:"outlined",value:A,min:50,disabled:!0}),Object(j.jsxs)("p",{children:[" ",v.toUpperCase()]})]})]}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:U,children:"Swap"})})]})})})]})}a(188);var Me=Object(te.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));function Ue(){var e=Object(u.c)((function(e){return e.auth})).user;console.log("current users info is ",e);Me();var t=Object(n.useState)(0),a=Object(ee.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(ee.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(0),b=Object(ee.a)(d,2),h=b[0],m=b[1],p=Object(n.useState)("disabled"),g=Object(ee.a)(p,2),O=g[0],x=g[1],v=Object(n.useState)("none"),f=Object(ee.a)(v,2),y=f[0],N=f[1],S=function(){z.a.get("".concat(me,"/getwalletbalance/gah-").concat(e.id)).then((function(e){m(Number(e.data.mos))})).catch((function(e){console.log(e)}))},w=function(){var t=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"T"+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+"Z"}(),a={personName:e.name,walletAddress:"gah-"+e.id,toWalletAddress:o,tranDate:t,tokenName:"e-franc",tranType:"SEND",amount:s};z.a.post("".concat(me,"/record/tranadd"),a).then((function(e){alert("Your transferring is successful !"),S()})).catch((function(e){alert("Sorry, Your transferring is failed.")}))};return Object(n.useEffect)((function(){S()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsx)("div",{className:"row",style:{minHeight:680,minWidth:"100%",paddingLeft:"17%",paddingTop:245},children:Object(j.jsx)("form",{style:{width:"75%",margin:"auto",marginTop:15},onSubmit:function(e){e.preventDefault(),w()},children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header-tb",children:"Token Sending"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-lg-7",children:Object(j.jsxs)("p",{style:{color:"green"},children:["* E-FRANC balance in Your Wallet : ",h," EFRANC"]})})}),Object(j.jsx)("div",{style:{width:"100%"},children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-3",style:{textAlign:"right"},children:Object(j.jsx)("p",{children:"Amount : "})}),Object(j.jsx)("div",{className:"col-lg-5",children:Object(j.jsx)(ae.a,{id:"amount",className:"form-control",type:"number",variant:"outlined",value:s,onChange:function(e){c(e.target.value),e.target.value>h?(x("disabled"),N("")):(x(""),N("none"))},min:50})}),Object(j.jsx)("div",{className:"col-lg-2",children:Object(j.jsx)("p",{children:"EFRANC"})})]})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{color:"#ff0000",display:y},children:"* Invalid amount because it's more than the balance in your wallet. "})}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3",style:{textAlign:"right"},children:Object(j.jsx)("p",{children:"To Address : "})}),Object(j.jsx)("div",{className:"col-md-7",children:Object(j.jsx)(ae.a,{id:"toAddress",className:"form-control",type:"text",variant:"outlined",value:o,onChange:function(e){l(e.target.value)}})})]})})]}),Object(j.jsx)("div",{className:"card-footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:"Send"})})]})})})]})}var Ye=function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.record.tranDate}),Object(j.jsx)("td",{children:e.record.type}),Object(j.jsx)("td",{children:e.record.content})]})};function We(){var e=Object(u.c)((function(e){return e.auth})).user,t=Object(n.useState)([]),a=Object(ee.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(0),i=Object(ee.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(0),b=Object(ee.a)(d,2),h=b[0],m=b[1];return Object(n.useEffect)((function(){z.a.get("".concat(me,"/gethistory/gah-").concat(e.id)).then((function(e){var t=[],a=e.data;0!=a[0].length&&a[0].forEach((function(e){var a="";"BUY"==e.tranType?a="bought for "+e.price:"SELL"==e.tranType?a="sold for "+e.price:"SEND"==e.tranType&&(a="send to "+e.toWalletAddress);var n=e.tranDate.replace("T"," "),s={tranDate:n=n.replace("Z",""),type:e.tranType,content:e.amount+" of E-FRANC token was "+a+"."};t.push(s)})),0!=a[1].length&&a[1].forEach((function(e){var a="";"efranc"==e.fromToken&&(a="E-FRANC token"),"gah"==e.fromToken&&(a="GAH token");var n="";"efranc"==e.toToken&&(n="E-FRANC token"),"gah"==e.toToken&&(n="GAH token");var s=e.swapDate.replace("T"," "),c={tranDate:s=s.replace("Z",""),type:"SWAP",content:"Swapped "+e.fromAmount+" of "+a+" with "+e.toAmount+" of "+n+"."};t.push(c)})),0!=a[2].length&&a[2].forEach((function(e){var a=e.tranDate.replace("T"," "),n={tranDate:a=a.replace("Z",""),type:"RECEIVE",content:e.amount+" of E-FRANC token was received."};t.push(n)})),t.sort((function(e,t){return new Date(t.tranDate)-new Date(e.tranDate)})),c(t)})).catch((function(e){console.log(e)})),z.a.get("".concat(me,"/getwalletbalance/gah-").concat(e.id)).then((function(e){l(Number(e.data.gah)),m(Number(e.data.mos))})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsxs)("div",{style:{minHeight:680,maxWidth:"90%",paddingLeft:"19%",paddingTop:245,margin:"auto"},children:[Object(j.jsxs)("div",{className:"card",style:{width:"50%"},children:[Object(j.jsx)("div",{className:"card-header-tb",children:"Wallet Balance"}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-12",children:[Object(j.jsxs)("p",{style:{color:"green"},children:["* GAH balance : ",o," GAH"]}),Object(j.jsxs)("p",{style:{color:"green"},children:["* E-FRANC balance : ",h," EFRANC"]})]})})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-sm-12",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{paddingRight:70},children:Object(j.jsxs)("h4",{children:["Transaction List ( ",s.length," Items )"]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Content"})]})}),Object(j.jsx)("tbody",{children:s.map((function(e,t){return console.log("here is Table"),Object(j.jsx)(Ye,{record:e},t)}))})]})})]})})})]})]})}var Ie=function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(P.a)({},e.target.id,e.target.value))},n.onChangeFile=function(e){n.setState({selectedFileName:e.target.files[0].name});var t=new FormData;t.append("file",e.target.files[0]),z.a.post("".concat(me,"/uploadphoto"),t).then((function(e){console.log(e.data),n.setState({photos:[e.data]})}))},n.state={name:"",phonenumber:"",selectedFileName:"",photos:[],errors:{}},n.onSubmit=n.onSubmit.bind(Object(Be.a)(n)),n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;z.a.get("".concat(me,"/record/").concat(t.id)).then((function(t){e.setState({name:t.data.name,phonenumber:t.data.phonenumber,photos:t.data.photoName?[{filename:t.data.photoName}]:[]})})).catch((function(e){console.log(e)}))}},{key:"editClose",value:function(){window.location.href="/list"}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a={name:this.state.name,phonenumber:this.state.phonenumber,photoName:this.state.photos[0].filename};console.log(a),z.a.post("".concat(me,"/update/").concat(t.id),a).then((function(e){alert("Your profile have been successfully updated! Please log out and relog in."),window.location.href="/profile"}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsx)("div",{className:"container-fluid content-inner pb-0",style:{minHeight:680,maxWidth:"90%",paddingLeft:"19%",paddingTop:245,margin:"auto"},children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-sm-9",style:{margin:"auto"},children:Object(j.jsxs)("div",{className:"card",style:{paddingBottom:35},children:[Object(j.jsx)("div",{className:"card-header",style:{paddingBottom:45},children:Object(j.jsxs)("h4",{className:"card-title text-white",children:[" ",this.state.name,"'s Profile"]})}),Object(j.jsx)("div",{className:"d-flex mt-3 ms-4 me-4 justify-content-between",children:Object(j.jsx)("form",{onSubmit:this.onSubmit,style:{width:"100%"},children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-body",children:[Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"User Name",onChange:this.onChange,value:this.state.name}),Object(j.jsx)("label",{children:"User Name"})]}),Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"phonenumber",placeholder:"Phone Number",onChange:this.onChange,value:this.state.phonenumber}),Object(j.jsx)("label",{children:"Phone Number"})]}),Object(j.jsxs)("div",{className:"form-floating mb-4",children:[Object(j.jsx)("input",{type:"file",className:"form-control",id:"avatar",placeholder:"Photo",onChange:this.onChangeFile}),this.state.photos.map((function(e,t){return Object(j.jsx)("div",{style:{margin:"auto"},children:Object(j.jsx)("img",{src:"".concat(me,"/").concat(e.filename),style:{width:"40%",borderRadius:10}},t)},"div-"+t)}))]})]}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.editClose,children:"Close"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})})})]})})})})]})}}]),a}(n.Component),ze=Object(u.b)((function(e){return{auth:e.auth,records:e.records}}))(Ie),Ge=(a(189),a(190),function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).state={hoverLoc:null,activePoint:null},n}return Object(U.a)(a,[{key:"getX",value:function(){var e=this.props.data;return{min:e[0].x,max:e[e.length-1].x}}},{key:"getY",value:function(){var e=this.props.data;return{min:e.reduce((function(e,t){return t.y<e?t.y:e}),e[0].y),max:e.reduce((function(e,t){return t.y>e?t.y:e}),e[0].y)}}},{key:"getSvgX",value:function(e){var t=this.props,a=t.svgWidth,n=t.yLabelSize;return n+e/this.getX().max*(a-n)}},{key:"getSvgY",value:function(e){var t=this.props,a=t.svgHeight,n=t.xLabelSize,s=this.getY();return((a-n)*s.max-(a-n)*e)/(s.max-s.min)}},{key:"makePath",value:function(){var e=this,t=this.props,a=t.data,n=t.color,s="M "+this.getSvgX(a[0].x)+" "+this.getSvgY(a[0].y)+" ";return s+=a.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join(""),Object(j.jsx)("path",{className:"linechart_path",d:s,style:{stroke:n}})}},{key:"makeArea",value:function(){var e=this,t=this.props.data,a="M "+this.getSvgX(t[0].x)+" "+this.getSvgY(t[0].y)+" ";a+=t.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join("");var n=this.getX(),s=this.getY();return a+="L "+this.getSvgX(n.max)+" "+this.getSvgY(s.min)+" L "+this.getSvgX(n.min)+" "+this.getSvgY(s.min)+" ",Object(j.jsx)("path",{className:"linechart_area",d:a})}},{key:"makeAxis",value:function(){var e=this.props.yLabelSize,t=this.getX(),a=this.getY();return Object(j.jsxs)("g",{className:"linechart_axis",children:[Object(j.jsx)("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.min),x2:this.getSvgX(t.max),y2:this.getSvgY(a.min),strokeDasharray:"5"}),Object(j.jsx)("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.max),x2:this.getSvgX(t.max),y2:this.getSvgY(a.max),strokeDasharray:"5"})]})}},{key:"makeLabels",value:function(){var e=this.props,t=e.svgHeight,a=e.svgWidth,n=e.xLabelSize,s=e.yLabelSize;return Object(j.jsxs)("g",{className:"linechart_label",children:[Object(j.jsx)("text",{transform:"translate(".concat(s/2,", 20)"),textAnchor:"middle",children:this.getY().max.toLocaleString("us-EN",{style:"currency",currency:"USD"})}),Object(j.jsx)("text",{transform:"translate(".concat(s/2,", ").concat(t-n-5,")"),textAnchor:"middle",children:this.getY().min.toLocaleString("us-EN",{style:"currency",currency:"USD"})}),Object(j.jsx)("text",{transform:"translate(".concat(s,", ").concat(t,")"),textAnchor:"start",children:this.props.data[0].d}),Object(j.jsx)("text",{transform:"translate(".concat(a,", ").concat(t,")"),textAnchor:"end",children:this.props.data[this.props.data.length-1].d})]})}},{key:"getCoords",value:function(e){var t=this,a=this.props,n=a.svgWidth,s=a.data,c=a.yLabelSize,r=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),i=(r.width-n)/2,o=e.clientX-r.left-i,l=[];s.map((function(e,a){l.push({svgX:t.getSvgX(e.x),svgY:t.getSvgY(e.y),d:e.d,p:e.p})}));for(var d={},u=0,j=500;u<l.length;u++)Math.abs(l[u].svgX-this.state.hoverLoc)<=j&&(j=Math.abs(l[u].svgX-this.state.hoverLoc),d=l[u]);o-c<0?this.stopHover():(this.setState({hoverLoc:o,activePoint:d}),this.props.onChartHover(o,d))}},{key:"stopHover",value:function(){this.setState({hoverLoc:null,activePoint:null}),this.props.onChartHover(null,null)}},{key:"makeActivePoint",value:function(){var e=this.props,t=e.color,a=e.pointRadius;return Object(j.jsx)("circle",{className:"linechart_point",style:{stroke:t},r:a,cx:this.state.activePoint.svgX,cy:this.state.activePoint.svgY})}},{key:"createLine",value:function(){var e=this.props,t=e.svgHeight,a=e.xLabelSize;return Object(j.jsx)("line",{className:"hoverLine",x1:this.state.hoverLoc,y1:-8,x2:this.state.hoverLoc,y2:t-a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.svgHeight,n=t.svgWidth;return Object(j.jsx)("svg",{width:n,height:a,viewBox:"0 0 ".concat(n," ").concat(a),className:"linechart",onMouseLeave:function(){return e.stopHover()},onMouseMove:function(t){return e.getCoords(t)},children:Object(j.jsxs)("g",{children:[this.makeAxis(),this.makePath(),this.makeArea(),this.makeLabels(),this.state.hoverLoc?this.createLine():null,this.state.hoverLoc?this.makeActivePoint():null]})})}}]),a}(n.Component));Ge.defaultProps={data:[],color:"#2196F3",pointRadius:5,svgHeight:485,svgWidth:780,xLabelSize:20,yLabelSize:80};var Xe=Ge,Ke=(a(191),function(e){Object(Y.a)(a,e);var t=Object(W.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hoverLoc,a=e.activePoint,n=(document.getElementsByClassName("linechart")[0].getBoundingClientRect(),{});return n.width="200px",n.left=t+300,Object(j.jsxs)("div",{className:"hover",style:n,children:[Object(j.jsx)("div",{className:"date",children:a.d}),Object(j.jsx)("div",{className:"price",children:a.p})]})}}]),a}(n.Component)),Ze=Ke;var Ve=function(){var e=Object(u.c)((function(e){return e.tokenprice})).tokenprice,t=Object(n.useState)(null),a=Object(ee.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(null),i=Object(ee.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),b=Object(ee.a)(d,2),h=b[0],m=b[1],p=Object(n.useState)(0),g=Object(ee.a)(p,2),O=(g[0],g[1]),x=Object(n.useState)(!0),v=Object(ee.a)(x,2),f=v[0],y=v[1],N=function(){fetch("".concat(me,"/currentpairprice/100")).then((function(e){return e.json()})).then((function(e){if(e){for(var t=[],a=e,n=0,s=a.length;s--;s>=0){var c=a[s].ega_usd;t.push({d:a[s].date,p:c,x:n,y:c}),n++}m(t),fetch("".concat(me,"/egaprice")).then((function(e){return e.json()})).then((function(e){var t=e;fetch("".concat(me,"/tokenprice")).then((function(e){return e.json()})).then((function(e){var a=(Number(t)+Number(e[0].ega)).toFixed(12);O(a),y(!1)}))}))}}))};return Object(n.useEffect)((function(){var e=setInterval((function(){N()}),5e3);return function(){return clearInterval(e)}}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(xe,{}),Object(j.jsx)(fe,{}),Object(j.jsxs)("div",{style:{paddingLeft:"17%",paddingTop:245},children:[Object(j.jsxs)("p",{style:{fontSize:28,fontWeight:700,color:"#1eff1e",paddingLeft:"35%"},children:[e.data?e.data.egaPrice+" USD":""," "]}),Object(j.jsxs)("div",{style:{maxWidth:"70%",margin:"auto"},children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"popup",children:s?Object(j.jsx)(Ze,{hoverLoc:s,activePoint:o}):null})}),Object(j.jsx)("div",{className:"trading-chart",children:Object(j.jsx)("div",{className:"chart chart-div",style:{minHeight:"650px"},children:f?null:Object(j.jsx)(Xe,{data:h,onChartHover:function(e,t){return function(e,t){l(t),c(e)}(e,t)}})})})]})]})]})};if(localStorage.jwtToken){var qe=localStorage.jwtToken;G(qe);var Je=Object(B.a)(qe);R.dispatch(K(Je));var Qe=Date.now()/1e3;Je.exp<Qe&&(R.dispatch(Z()),window.location.href="/signin")}setInterval((function(){R.dispatch(be()),R.dispatch(he())}),6e3);var $e=function(){return Object(j.jsx)(u.a,{store:R,children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",children:Object(j.jsx)(J,{})}),Object(j.jsx)(o.b,{exact:!0,path:"/signup",children:Object(j.jsx)($,{})}),Object(j.jsx)(o.b,{exact:!0,path:"/signin",children:Object(j.jsx)(J,{})}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(h,{exact:!0,path:"/home",children:Object(j.jsx)(Ve,{})}),Object(j.jsx)(h,{exact:!0,path:"/tokenbuy",children:Object(j.jsx)(Re,{})}),Object(j.jsx)(h,{exact:!0,path:"/tokensell",children:Object(j.jsx)(He,{})}),Object(j.jsx)(h,{exact:!0,path:"/tokenswap",children:Object(j.jsx)(_e,{})}),Object(j.jsx)(h,{exact:!0,path:"/tokensend",children:Object(j.jsx)(Ue,{})}),Object(j.jsx)(h,{exact:!0,path:"/wallet",children:Object(j.jsx)(We,{})}),Object(j.jsx)(h,{exact:!0,path:"/profile",children:Object(j.jsx)(ze,{})})]})]})})})};var et=function(){return Object(j.jsx)($e,{})},tt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,276)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(et,{})}),document.getElementById("root")),tt()},59:function(e,t,a){}},[[192,1,2]]]);
//# sourceMappingURL=main.b2e5bea6.chunk.js.map